## まとめ

この事例は、抽象化を構築するというよりは、取り除くような演習であった。
とても複雑な`Check`型から始め、これが2つの概念を混ぜたものだということに気づいたところで、`Predicate`と、`Kleisli`によって実装できる部分に分割した。

上の例では、分別のある開発者ならば同意しないであろう、いくつかの設計上の選択を行った。
`Predicate`を関数に変換するメソッドは、`toFunction`のような名前でなく、`run`と呼ぶべきなのだろうか?
そもそも`Predicate`は`Function`のサブ型であるべきなのだろうか?
多くの関数プログラマはサブタイピングを避けることが多い。これはサブタイピングが暗黙値の解決や型推論でうまく機能しないためである。これを利用する前には議論が必要だろう。
いつものことだが、最良の決断は、そのライブラリがどこで使われるのかという文脈によって違ったものになるのだ。
